{% extends 'base.html' %}
{% load crispy_forms_tags %}

{% block content %}

<div class="container">
    <div class="row mt-5 mx-2 ">
        <div class ="col-md-5 col-sm-12 "  >
            <a href="{% url 'posts'  %}" class="btn btn-success"><strong>Back to Posts</strong></a>

        </div>
        </div>


        <div class="row justify-content-center mt-3 ">
            <div class ="col-md-5 col-sm-12  card w-50"  >
                <img src="{{profile.profileimg.url}}" class="rounded-circle mx-auto d-block" width="150" height="150" style="padding: 10px ;" /> 
                <span>
                    <a href="{% url 'profile_edit' profile.pk %}" style="margin-left: 20px;">Edit Profile <i class="fa-solid fa-pen-to-square"></i></a>
                </span>
                <ul class="list-group list-group-flush">
                <li class="list-group-item card-header">
                {% if request.user == user %}
               
                {% endif %}
                {% if profile.name %}
                <p><strong>Name: </strong>{{profile.name}}</p>
                {% endif %}
                </li>
                <li class="list-group-item">
                {% if profile.bio %}
                <p><strong>Bio Data: </strong>{{profile.bio}}</p>
                {% endif %}
                </li>
                <li class="list-group-item">
                {% if profile.organisation %}
                <p><strong>Organisation </strong>{{profile.organisation}}</p>
                {% endif %}
                </li>
                <li class="list-group-item">
                {% if profile.role %}
                <p><strong>Role: </strong>{{profile.role}}</p>
                {% endif %}
                </li>
                <li class="list-group-item">
                {% if profile.yof %}
                <p><strong>Year of Graduation: </strong>{{profile.yof}}</p>
                {% endif %}
                </li>
                <li class="list-group-item">
                {% if profile.LinkProfile %}
                <p><strong>Linkedn Profile: </strong> <a href="{{profile.LinkProfile}}">{{profile.LinkProfile}}</a></p>
                
                {% endif %}
            </li>
            </ul>

            </div>
            </div>


            

    
    {% for post in posts %}
    <div class="row mt-5 justify-content-center">
      
        <div class ="col-md-5 col-sm-12 border-bottom position-relative card border-rounded " style="padding: 0;" >
          <div class="card-header">
         <strong>{{post.user}}</strong> {{post.created_at}}
        </div>
        <div class="card-body">
            {% if post.image %}
            <img src="{{ post.image.url }}" class="card-img-top"style="height: 300px;" />
           {% endif %}
          <p>{{post.content }}</p>
          <a href="{% url 'post_single' post.pk %}" class="stretched-link"></a>
        </div>
        <div class="d-flex flex-row">
            <div style="margin-right: 20px">
        <i class="fa-solid fa-thumbs-up" ><span>{{post.likes.all.count}}</span></i>
    </div>
    <div>
        <i class="fa-solid fa-thumbs-down"  ;><span>{{post.dislikes.all.count}}</span></i>
    </div>
        </div>
        </div> 
        </div>
        
{% endfor %}


</div>

{% endblock content %}